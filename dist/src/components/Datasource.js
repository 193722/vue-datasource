!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["vue-datasource"]=e():t["vue-datasource"]=e()}(this,function(){return function(t){function e(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return t[a].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,a){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=8)}([function(t,e,n){"use strict";e.a={fetchFromObject:function(t,e,n){if(void 0===t)return!1;var a=e.indexOf(".");return a>-1?this.fetchFromObject(t[e.substring(0,a)],e.substr(a+1)):void 0!==n?n(t[e]):t[e]},changePage:function(t){this.selected=null,this.indexSelected=-1,this.$emit("change",{perpage:this.perpage,page:t})},selectRow:function(t,e,n){t.preventDefault(),this.indexSelected===n?(this.indexSelected=-1,this.selected=null):(this.indexSelected=n,this.selected={row:e,index:n})},tableInfo:function(){return this.translation.pagination.show+" "+(null===this.pagination.from?0:this.pagination.from)+" "+this.translation.pagination.to+" "+(null===this.pagination.to?0:this.pagination.to)+" "+this.translation.pagination.of+" "+this.pagination.total+" "+this.translation.pagination.entries},gettingItems:function(){var t=[],e=this.pages.current_page-2,n=this.pages.current_page+2,a=5;e<=0&&(e=1,n=5),n>=this.pages.last_page&&(e=this.pages.last_page-4,n=this.pages.last_page),this.pages.last_page<5&&(a=this.pages.last_page),e<=0&&(e=1),0!==this.pages.last_page&&1!==this.pages.last_page||(a=1);for(var s=0;s<a;s++)t[s]=s+e;return t}}},function(t,e){t.exports=function(t,e,n,a){var s,i=t=t||{},r=typeof t.default;"object"!==r&&"function"!==r||(s=t,i=t.default);var c="function"==typeof i?i.options:i;if(e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns),n&&(c._scopeId=n),a){var o=Object.create(c.computed||null);Object.keys(a).forEach(function(t){var e=a[t];o[t]=function(){return e}}),c.computed=o}return{esModule:s,exports:i,options:c}}},function(t,e,n){n(4);var a=n(1)(n(5),null,"data-v-2e18333e",null);t.exports=a.exports},function(t,e){},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),s=n(7),i=n.n(s);e.default={name:"Datasource",components:{Pagination:i.a},render:function(t){var e=this;return t("div",{class:"vue-datasource"},[t("div",{class:"panel panel-default"},[t("div",{class:"panel-heading"},[t("div",{class:"form-inline"},[t("div",{class:"form-group pull-left"},[t("label",{class:"control-label pr2"},[this.translation.limit]),t("select",{on:{change:function(t){return e.sync("perpage",parseInt(t.target.value))}},class:"form-control",attrs:{number:!0}},[this.limitOptions])]),t("div",{class:"form-group pull-right"},[t("input",{class:"form-control mr1",attrs:{type:"text",placeholder:this.translation.placeholder_search},on:{input:function(t){return e.sync("search",t.target.value)}}},[]),t("button",{attrs:{type:"button"},class:" btn btn-primary",on:{click:function(t){return e.searching(t)}}},[this.translation.search])]),t("div",{class:"clearfix"},[])])]),t("div",{class:"panel-body"},[t("table",{class:"table table-striped"},[t("thead",null,[t("tr",null,[this.columnItems])]),t("tbody",null,[this.columnObjects,t("tr",null,[t("td",{class:"text-center warning",attrs:{colspan:this.columns.length}},[this.tableInfo])])])])]),t("div",{class:"panel-footer"},[t("div",{class:"pull-left btn-group btn-group-actions"},[this.actionsObject]),t("div",{class:"pull-right"},[t("pagination",{attrs:{pages:this.pagination},on:{change:function(t){return e.changePage}}},[])]),t("div",{class:"clearfix"},[])])])])},props:{tableData:{type:Array,required:!0},limits:{type:Array,default:function(){return[1,5,10,15,20]}},translation:{type:Object,default:function(){return{limit:"Limit",search:"Search",placeholder_search:"Type to search..",records_not_found:"No records found",pagination:{show:"Showing",to:"to",of:"of",entries:"entries"}}}},columns:{type:Array,required:!0},pagination:{type:Object,default:function(){return{total:0,to:0,from:0,per_page:15}}},actions:{type:Array,default:function(){return[]}}},data:function(){return{perpage:15,selected:null,indexSelected:-1,search:""}},computed:{limitOptions:function(){var t=this,e=this.$createElement;return this.limits.map(function(n,a){return e("option",{attrs:{value:n,selected:t.perpage===n}},[n])})},columnItems:function(){var t=this.$createElement;return this.columns.map(function(e,n){return t("th",null,[e.name])})},columnObjects:function(){var t=this,e=this.$createElement;return 0===this.tableData.length?e("tr",{class:"text-center"},[e("td",{attrs:{colspan:this.columns.length}},[this.translation.records_not_found])]):this.tableData.map(function(n,a){var s=t.columns.map(function(a,s){return e("td",null,[t.fetchFromObject(n,a.key,a.render)])});return e("tr",{class:{success:a===t.indexSelected},on:{click:function(e){return t.selectRow(e,n,a)}}},[s])})},actionsObject:function(){var t=this,e=this.$createElement;return this.actions.map(function(n,a){return e("button",{class:t.dynamicClass("btn",n.class),attrs:{type:"button"},on:{click:function(e){return n.event(e,t.selected)}}},[e("i",{class:t.dynamicClass("pr1",n.icon)},[]),n.text])})},tableInfo:a.a.tableInfo},methods:{fetchFromObject:a.a.fetchFromObject,changePage:a.a.changePage,selectRow:a.a.selectRow,dynamicClass:function(t,e){return t+" "+e},sync:function(t,e){this[t]=e},searching:function(t){this.selected=null,this.indexSelected=-1,this.$emit("searching",this.search)}},watch:{perpage:function(){this.selected=null,this.indexSelected=-1,this.$emit("change",{perpage:this.perpage,page:1})},tableData:function(){this.selected=null,this.indexSelected=-1}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(0);e.default={name:"Datasource-Pagination",render:function(t){var e=this;return t("div",{class:"vue-pagination"},[t("nav",null,[t("ul",{class:"pagination"},[t("li",{class:{disabled:1===this.pages.current_page}},[t("a",{attrs:{href:"#"},on:{click:function(t){return e.firstPage(t)}}},[t("span",{attrs:{"aria-hidden":"true"}},["««"])])]),t("li",{class:{disabled:1===this.pages.current_page}},[t("a",{attrs:{href:"#"},on:{click:function(t){return e.previous(t)}}},[t("span",{attrs:{"aria-hidden":"true"}},["«"])])]),this.paginationItems,t("li",{class:{disabled:this.pages.current_page===this.pages.last_page}},[t("a",{attrs:{href:"#"},on:{click:function(t){return e.next(t)}}},[t("span",{attrs:{"aria-hidden":"true"}},["»"])])]),t("li",{class:{disabled:this.pages.current_page===this.pages.last_page}},[t("a",{attrs:{href:"#"},on:{click:function(t){return e.lastPage(t,e.pages.last_page)}}},[t("span",{attrs:{"aria-hidden":"true"}},["»»"])])])])])])},props:["pages"],created:function(){var t=this;window.addEventListener("keyup",function(e){var n=e.key;return t.changePageWithKeyBoard(n)})},computed:{items:a.a.gettingItems,paginationItems:function(){var t=this,e=this.$createElement;return this.items.map(function(n,a){return e("li",null,[e("a",{attrs:{href:"#"},on:{click:function(e){return t.change(e,n)}}},[n])])})}},methods:{firstPage:function(t){t.preventDefault(),1!==this.pages.current_page&&this.change(t,1)},previous:function(t){t.preventDefault(),1!==this.pages.current_page&&this.change(t,--this.pages.current_page)},change:function(t,e){t.preventDefault(),this.$emit("change",e)},next:function(t){t.preventDefault(),this.pages.current_page!==this.pages.last_page&&this.change(t,++this.pages.current_page)},lastPage:function(t,e){t.preventDefault(),this.pages.current_page!==this.pages.last_page&&this.change(t,e)},changePageWithKeyBoard:function(t){"ArrowLeft"===t?this.previous():"ArrowRight"===t&&this.next()}}}},function(t,e,n){n(3);var a=n(1)(n(6),null,"data-v-111f6fda",null);t.exports=a.exports},function(t,e,n){t.exports=n(2)}])});
//# sourceMappingURL=Datasource.js.map